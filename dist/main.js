(()=>{"use strict";const e=()=>{const e=document.getElementById("inbox-counter"),t=document.getElementById("today-counter"),d=document.getElementById("scheduled-counter"),n=document.getElementById("all-counter");let l=k.filter((function(e){return"Inbox"==e.list}));e.innerHTML=l.length;let i=6e4*(new Date).getTimezoneOffset(),c=new Date(Date.now()-i).toISOString().split("T")[0],o=k.filter((function(e){return e.dueDate==c}));t.innerHTML=o.length;let s=k.filter((function(e){return e.dueDate>c}));d.innerHTML=s.length;let a=k;n.innerHTML=a.length},t=t=>{document.getElementById(`${t.target.id}`).remove(),e()},d=e=>{if(e.target.checked){let t=k.find((t=>t.id==e.target.id));t.complete=!0,e.target.nextElementSibling.classList.add("checked"),console.log(t),y()}if(!e.target.checked){let t=k.find((t=>t.id==e.target.id));t.complete=!1,console.log(t),e.target.nextElementSibling.classList.remove("checked"),y()}},n=document.getElementById("inbox"),l=document.getElementById("today"),i=document.getElementById("scheduled"),c=document.getElementById("all"),o=document.getElementById("todo-list"),s=document.getElementById("todo-btn-main"),a=document.getElementById("main-title");window.onload=function(){n.addEventListener("click",u),l.addEventListener("click",v),i.addEventListener("click",g),c.addEventListener("click",h)};const r=()=>{for(;o.firstChild;)o.removeChild(o.lastChild)},m=()=>{const e=document.querySelectorAll(".removeToDo");for(let d=0;d<e.length;d++)e[d].addEventListener("click",b),e[d].addEventListener("click",t)},u=e=>{a.innerHTML="Inbox",s.classList.remove("hide"),r(),k.filter((function(e){return"Inbox"==e.list})).forEach((e=>{const t=`<div class="toDoContainer fadeIn" id="${e.id}"><div class="todo-complete"><label class="checkbox"><input id="${e.id}" type="checkbox" class="checkbox__input" ${0==e.complete?"":"checked"}><span class="checkbox__inner ${0==e.complete?"":"checked"}"></span></label></div><div class="todo-title">${e.title}</div><div class="todo-date">${""==e.dueDate?"No Date":e.dueDate}</div><div class="removeToDo" id="${e.id}"><img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id="${e.id}" alt="delete"></div></div>`,d=document.createElement("div");d.innerHTML=t,document.getElementById("todo-list").appendChild(d.firstChild)}));const t=document.querySelectorAll(".checkbox");for(let e=0;e<t.length;e++)t[e].addEventListener("change",d);m()},v=e=>{a.innerHTML="Today",s.classList.add("hide"),r();let t=6e4*(new Date).getTimezoneOffset(),n=new Date(Date.now()-t).toISOString().split("T")[0];k.filter((function(e){return e.dueDate==n})).forEach((e=>{const t=`<div class="toDoContainer fadeIn" id="${e.id}"><div class="todo-complete"><label class="checkbox"><input id="${e.id}" type="checkbox" class="checkbox__input" ${0==e.complete?"":"checked"}><span class="checkbox__inner ${0==e.complete?"":"checked"}"></span></label></div><div class="todo-title">${e.title}</div><div class="todo-date">${""==e.dueDate?"No Date":e.dueDate}</div><div class="removeToDo" id="${e.id}"><img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id="${e.id}" alt="delete"></div></div>`,d=document.createElement("div");d.innerHTML=t,document.getElementById("todo-list").appendChild(d.firstChild)}));const l=document.querySelectorAll(".checkbox");for(let e=0;e<l.length;e++)l[e].addEventListener("change",d);m()},g=e=>{a.innerHTML="Scheduled",s.classList.add("hide"),r();let t=6e4*(new Date).getTimezoneOffset(),n=new Date(Date.now()-t).toISOString().split("T")[0];k.filter((function(e){return e.dueDate>n})).forEach((e=>{const t=`<div class="toDoContainer fadeIn" id="${e.id}"><div class="todo-complete"><label class="checkbox"><input id="${e.id}" type="checkbox" value="complete" class="checkbox__input" ${0==e.complete?"":"checked"}><span class="checkbox__inner ${0==e.complete?"":"checked"}"></span></label></div><div class="todo-title">${e.title}</div><div class="todo-date">${""==e.dueDate?"No Date":e.dueDate}</div><div class="removeToDo" id="${e.id}"><img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id="${e.id}" alt="delete"></div></div>`,d=document.createElement("div");d.innerHTML=t,document.getElementById("todo-list").appendChild(d.firstChild)}));const l=document.querySelectorAll(".checkbox");for(let e=0;e<l.length;e++)l[e].addEventListener("change",d);m()},h=e=>{a.innerHTML="All",s.classList.add("hide"),r(),k.forEach((e=>{const t=`<div class="toDoContainer fadeIn" id="${e.id}"><div class="todo-complete"><label class="checkbox"><input id="${e.id}" type="checkbox" class="checkbox__input" ${0==e.complete?"":"checked"}><span class="checkbox__inner ${0==e.complete?"":"checked"}"></span></label></div><div class="todo-title">${e.title}</div><div class="todo-date">${""==e.dueDate?"No Date":e.dueDate}</div><div class="removeToDo" id="${e.id}"><img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id="${e.id}" alt="delete"></div></div>`,d=document.createElement("div");d.innerHTML=t,document.getElementById("todo-list").appendChild(d.firstChild)}));const t=document.querySelectorAll(".checkbox");for(let e=0;e<t.length;e++)t[e].addEventListener("change",d);m()},p=e=>{a.innerHTML=e.target.id,s.classList.remove("hide"),r(),k.filter((function(t){return t.list==e.target.id})).forEach((e=>{const t=`<div class="toDoContainer fadeIn" id="${e.id}"><div class="todo-complete"><label class="checkbox"><input id="${e.id}" type="checkbox" class="checkbox__input" ${0==e.complete?"":"checked"}><span class="checkbox__inner ${0==e.complete?"":"checked"}"></span></label></div><div class="todo-title">${e.title}</div><div class="todo-date">${""==e.dueDate?"No Date":e.dueDate}</div><div class="removeToDo" id="${e.id}"><img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id="${e.id}" alt="delete"></div></div>`,d=document.createElement("div");d.innerHTML=t,document.getElementById("todo-list").appendChild(d.firstChild)}));const t=document.querySelectorAll(".checkbox");for(let e=0;e<t.length;e++)t[e].addEventListener("change",d);m()},L=t=>{t.stopPropagation();let d=E.findIndex((e=>e==t.target.id));E.splice(d,1),document.getElementById(`${t.target.id}`).remove(),k=k.filter((e=>e.list!=t.target.id)),console.log(k),console.log(E),document.getElementById("main-title").innerText="Inbox",e(),u(),y()};let E=[];const f=()=>{let e=document.getElementById("list-title").value;E.push(e),console.log(E);const t=document.querySelector(".lists"),d=document.createElement("div");d.innerHTML=`<div class='list-item fadeIn' id='${e}'><img src="/dist/assets/macos-calendar.png"><p>${e}</p><img id='${e}' class="remove-list"src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg"></div>`,d.classList.add("list-section"),t.append(d),document.getElementById("todo-btn-main").classList.remove("hide"),document.getElementById("main-title").innerHTML=e,document.querySelector(".list-container").remove();const n=document.querySelectorAll(".list-section");for(let e=0;e<n.length;e++)n[e].addEventListener("click",p);const l=document.querySelectorAll(".remove-list");for(let e=0;e<l.length;e++)l[e].addEventListener("click",L);y()},y=()=>{localStorage.setItem("storedToDoList",JSON.stringify(k)),localStorage.setItem("storedLists",JSON.stringify(E))};window.addEventListener("load",(()=>{k=JSON.parse(localStorage.getItem("storedToDoList")),null==k&&(k=[]),console.log(k),E=JSON.parse(localStorage.getItem("storedLists")),null==E&&(E=[]),console.log(E),u(),e();for(let e=0;e<E.length;e++){const t=`<div class='list-item' id='${E[e]}'><img src="/dist/assets/macos-calendar.png"><p>${E[e]}</p><img id='${E[e]}' class="remove-list"src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg"></div>`,d=document.createElement("div");d.innerHTML=t,document.querySelector(".list-section").appendChild(d.firstChild);const n=document.querySelectorAll(".list-section");for(let e=0;e<n.length;e++)n[e].addEventListener("click",p);const l=document.querySelectorAll(".remove-list");for(let e=0;e<l.length;e++)l[e].addEventListener("click",L)}const t=document.querySelectorAll(".checkbox");for(let e=0;e<t.length;e++)t[e].addEventListener("change",d)}));const b=e=>{const t=k.findIndex((t=>t.id==e.target.id));k.splice(t,1),console.log(k),y()};let k=[];const I=()=>{if(""!==document.getElementById("title").value){let n,l=document.getElementById("title").value,i=document.getElementById("dueDate").value,c=Date.now(),o=!1;n=document.getElementById("main-title").innerText;let s=((e,t,d,n,l)=>({title:e,dueDate:t,id:d,complete:n,list:l}))(l,i,c,o,n);k.push(s),(()=>{if(""!==document.getElementById("title").value){document.getElementById("todo_form").remove();const e=document.getElementById("todo-list"),d=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");e.appendChild(d),d.classList.add("toDoContainer"),d.classList.add("fadeIn"),n.classList.add("todo-title"),l.classList.add("todo-date"),i.classList.add("todo-remove"),c.classList.add("todo-complete"),d.setAttribute("id",`${k[k.length-1].id}`),d.append(c,n,l,i),n.innerHTML=k[k.length-1].title,c.innerHTML=`<label class='checkbox'><input id='${k[k.length-1].id}' type='checkbox' class='checkbox__input'/><span class='checkbox__inner'></span></label>`,i.innerHTML=`<img src="/dist/assets/close_FILL0_wght700_GRAD0_opsz48.svg" class="delete" id=${k[k.length-1].id} alt="delete">`,i.setAttribute("class","removeToDo"),i.setAttribute("id",`${k[k.length-1].id}`);const o=document.querySelectorAll(".removeToDo");for(let e=0;e<o.length;e++)o[e].addEventListener("click",b),o[e].addEventListener("click",t);Date.parse(k[k.length-1].dueDate)?NaN!==k[k.length-1].dueDate&&(l.innerHTML=k[k.length-1].dueDate):l.innerHTML="No Date"}const e=document.querySelectorAll(".checkbox");for(let t=0;t<e.length;t++)e[t].addEventListener("change",d)})(),e(),y()}},D=()=>{if(null===document.getElementById("todo_form")){const e=document.getElementById("todo-list"),t=document.createElement("div");t.setAttribute("id","todo_form"),t.classList.add("fadeIn");const d="<input id='title' placeholder='Add a task' type='text' required><input id='dueDate' type='date' required><button class='submit' id='submit '>Add Task</button>";t.innerHTML=d,e.append(t),document.querySelector(".submit").onclick=I,document.getElementById("title").focus()}else document.getElementById("title").focus()};document.getElementById("add_todo").addEventListener("click",D),document.getElementById("todo-btn-main").addEventListener("click",D),document.querySelector(".add-list").addEventListener("click",(()=>{if(null===document.getElementById("list-title")){const e=document.querySelector(".sidebar"),t=document.createElement("div");t.classList.add("list-container"),t.classList.add("fadeIn"),t.innerHTML='<input class="list-input" id="list-title" type="text"><div class="list-container-btns"><div class="list-add button">Add</div><div class="list-cancel button">Cancel</div></div>',e.append(t),document.querySelector(".list-cancel").addEventListener("click",_),document.querySelector(".list-add").addEventListener("click",p),document.querySelector(".list-add").addEventListener("click",f)}else document.querySelector(".list-input").focus()}));const _=()=>{document.querySelector(".list-container").remove()}})();